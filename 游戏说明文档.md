# 植物大战植物 - 游戏说明文档

## 游戏概述

这是一款基于Qt C++开发的2D横版格斗游戏，以《植物大战僵尸》中的植物角色为主角。两名玩家各自选择一个植物角色，在不同的地图上进行1v1对战，直到其中一方血量归零为止。

## 游戏特色

- **植物角色战斗**：经典的植物大战僵尸角色重新设计为格斗游戏角色
- **多样化地形**：包含草地、泥土、冰面等不同地形，影响角色行动
- **实时物理系统**：包含重力、跳跃、碰撞检测等物理效果
- **装备系统**：角色可拾取护甲等装备增强能力
- **动画系统**：丰富的角色动画和特效

## 游戏流程

### 1. 开始游戏
- 启动游戏后进入主菜单
- 点击"开始游戏"进入角色选择

### 2. 角色选择
游戏支持以下四种植物角色：

#### 豌豆射手 (PeaShooter)
- **攻击方式**：远程射击豌豆子弹
- **特点**：平衡型角色，攻击力中等，射程远
- **血量**：10点
- **武器**：豌豆子弹（伤害1点）

#### 寒冰射手 (SnowPea)
- **攻击方式**：远程射击冰豌豆
- **特点**：攻击附带减速效果
- **血量**：10点
- **武器**：冰豌豆（伤害1点，附加减速效果）

#### 卷心菜投手 (Cabbagepult)
- **攻击方式**：抛射卷心菜
- **特点**：抛物线攻击，可越过障碍物
- **血量**：15点
- **武器**：卷心菜（伤害3点，抛物线轨迹）

#### 大嘴花 (Chomper)
- **攻击方式**：近战撕咬
- **特点**：高伤害近战角色，在草地上蹲下有30%闪避率
- **血量**：15点
- **攻击范围**：近战（伤害2点）

### 3. 地图选择
目前支持蘑菇花园地图，包含以下地形：

#### 地形类型
- **泥土台阶**：普通平台，可供角色站立
- **草地**：大嘴花在此处蹲下可获得30%闪避率
- **冰面**：角色移动速度增加1.5倍

#### 地图布局
- 主平台：地图底部800像素宽的主要活动区域
- 中层平台：左右各有200像素宽的中层平台
- 高层平台：左右各有86像素宽的冰面平台
- 草地区域：中央区域的特殊地形

### 4. 战斗系统

#### 基本操作

**玩家1控制：**
- A键：向左移动
- D键：向右移动
- W键/空格：跳跃
- S键：蹲下
- F键：攻击
- J键：拾取物品

**玩家2控制：**
- 方向键左：向左移动
- 方向键右：向右移动
- 方向键上：跳跃
- 方向键下：蹲下
- 小键盘0：攻击
- 回车键：拾取物品

#### 战斗机制

1. **血量系统**：
   - 角色初始血量：豌豆射手和寒冰射手10点，卷心菜投手和大嘴花15点
   - 血量显示在屏幕下方的血量条中
   - 血量归零即败北

2. **自动扣血**：
   - 每10秒自动扣除1点血量，增加战斗紧迫感

3. **武器系统**：
   - 远程武器：豌豆、冰豌豆、卷心菜
   - 近战攻击：大嘴花的撕咬
   - 从游戏的设计性上，没有加入武器掉落，技术实现并不复杂

4. **装备系统**：
   - 火焰护甲：可拾取的防护装备（默认装备，仅用于验证拾取功能）
   - 另计划加入原版中如南瓜壳等作为装备的功能性道具

#### 特殊效果

1. **减速效果**：寒冰射手的攻击会使敌人减速
2. **地形加成**：
   - 冰面：移动速度增加50%
   - 草地：大嘴花蹲下时30%闪避率
3. **重力系统**：真实的跳跃和下落物理效果

### 5. 胜负判定

- 当任一玩家血量归零时游戏结束
- 显示获胜方或平局结果
- 可选择返回主菜单或重新开始

## 游戏策略

### 角色选择建议

1. **新手推荐**：豌豆射手 - 平衡的属性，容易上手
2. **控制流**：寒冰射手 - 利用减速效果控制节奏
3. **高伤害**：卷心菜投手 - 远程高伤害，抛物线攻击
4. **近战专家**：大嘴花 - 高血量高伤害，适合激进玩法

### 战术要点

1. **地形利用**：
   - 利用平台高度优势进行攻击
   - 在冰面上快速移动
   - 大嘴花玩家多利用草地闪避

2. **距离控制**：
   - 远程角色保持距离优势
   - 近战角色寻找接近机会
   - 利用跳跃和平台进行位置调整

3. **时机把握**：
   - 注意自动扣血的时间节点
   - 合理使用装备拾取时机
   - 预判对手动作进行反击

## 技术特性

- **开发环境**：Qt 6.5.9 + C++17
- **图形渲染**：Qt Graphics Framework
- **物理引擎**：自研轻量级物理系统
- **动画系统**：基于帧动画的角色表现
- **音效支持**：预留音效接口（可扩展）

## 系统要求

- **操作系统**：Windows 10或更高版本
- **内存**：至少2GB RAM
- **显卡**：支持OpenGL的独立显卡或集成显卡
- **存储空间**：至少100MB可用空间

## 更新计划

- 当前受击判定存在Bug，需要修复
- 增加更多角色类型
- 扩展地图数量和种类
- 添加音效和背景音乐
- 实现网络对战功能
- 增加单人模式和AI对手

